import{I as h,A as v,M as b,a as p,i as _,j as e,B as u,L as f,c as g,r as N}from"./index-IEnOT-mi.js";import{u as P}from"./useQuery-BppKX9TZ.js";import{t as C}from"./timeFormators-DKGkpv33.js";const L="_error_dtuzh_1",S="_root_dtuzh_13",A={error:L,root:S},w=async(s={},t)=>{let r;if(t)r=t;else{r=v+b+"?";for(let l in s)r+=`${l}=${s[l]}&`}try{return(await h.get(r)).data}catch(l){throw l}},E=s=>{let t={};for(let r of Object.keys(s).sort())t[r]=s[r];return t},I=(s={},t)=>P({queryKey:["PLAYERS_LIST",t,JSON.stringify(E(s))],queryFn:()=>w(s,t)}),k="_pagination_1qw5m_1",D="_pageNumber_1qw5m_21",d={pagination:k,pageNumber:D};var i={},R=_;Object.defineProperty(i,"__esModule",{value:!0});var m=i.default=void 0,$=R(p()),q=e;m=i.default=(0,$.default)((0,q.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");var c={},M=_;Object.defineProperty(c,"__esModule",{value:!0});var x=c.default=void 0,O=M(p()),H=e;x=c.default=(0,O.default)((0,H.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");const F=({previos:s,next:t,pageNumber:r})=>e.jsxs("div",{className:d.pagination,children:[e.jsx(u,{onClick:s.onClick,disabled:s.isDisabled,children:e.jsx(x,{})}),e.jsx("span",{className:d.pageNumber,children:r}),e.jsx(u,{onClick:t.onClick,disabled:t.isDisabled,children:e.jsx(m,{})})]}),T="_players_bep7p_1",z="_loader_bep7p_10",n={players:T,loader:z},B="_playerCard_1r7rr_1",W={playerCard:B},G=({totalGames:s,topFiveScores:t,userName:r})=>e.jsxs("table",{className:W.playerCard,children:[e.jsx("caption",{children:r}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("th",{children:"total games"}),e.jsx("td",{children:s})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"top five scores"}),e.jsx("td",{children:e.jsx("ol",{children:t.map((l,o)=>e.jsx("li",{children:C(l)},o))})})]})]})]}),J=({isLoading:s,players:t})=>s?e.jsx("div",{className:n.players,children:[1,2,3,4,5].map(r=>e.jsx(f,{className:n.loader},r))}):e.jsx("div",{className:n.players,children:t.map(r=>e.jsx(G,{userName:r.user_name,topFiveScores:r.top_5_scores,totalGames:r.total_games},r.user))}),K=({className:s,...t})=>{const r=g(A.root,s),[l,o]=N.useState({url:null,number:1}),{error:j,isLoading:y,data:a}=I({top_players:"_",limit:6},l.url);return j?e.jsx("span",{style:{color:"red"},children:"Error"}):e.jsxs("div",{className:r,...t,children:[e.jsx(F,{pageNumber:l.number,previos:{onClick:()=>o({number:l.number-1,url:a==null?void 0:a.previous}),isDisabled:!(a!=null&&a.previous)},next:{onClick:()=>o({number:l.number+1,url:a==null?void 0:a.next}),isDisabled:!(a!=null&&a.next)}}),e.jsx(J,{players:a==null?void 0:a.results,isLoading:y})]})},V=()=>e.jsx(K,{});export{V as default};
